$(document).ready(()=>{AOS.init(),document.getElementById("id_error").style.display="none",$("#id_send").on("click",e=>{e.preventDefault(),$("#id_send").prop("disabled",!0),$(".spinner-border").removeClass("invisible"),$(".btn-text").html("Enviando ...");let a=[];const t=$(".ask-select"),r=$(".ask-textarea"),n=$(".ask-radio"),d=$(".ask-check");let s=!0;t.map((e,t)=>{0!=$(t).val()?a.push([$(t).attr("data-ask"),"o",$(t).val()]):($(t).addClass("is-invalid"),s=!1)}),r.map((e,t)=>{$(t).val().length>19?a.push([$(t).attr("data-ask"),"t",$(t).val()]):($(t).addClass("is-invalid"),s=!1)}),n.map((e,t)=>{const r=$(t).attr("data-ask"),n=$("input[name='radio_"+r+"']:checked").val();a.push([$(t).attr("data-ask"),"r",n])}),d.map((e,t)=>{const r=$(t).attr("data-ask");let n=[];$("input[name='check_"+r+"']:checked").map((e,a)=>{n.push($(a).val())}),n.length>0?(n=n.join(";"),a.push([$(t).attr("data-ask"),"c",n])):(n="0;",a.push([$(t).attr("data-ask"),"c",n]))}),s?a.map((e,a)=>{$.ajax({url:url.urlApi,type:"POST",data:{ask:e[0],askType:e[1],answer:e[2]},success:e=>{"True"===e.Exito?(console.log("OK"),window.location.replace(url.urlRes)):(document.getElementById("id_error").innerHTML="Error interno. Por favor, espere un tiempo y vuelva a intentar.",document.getElementById("id_error").style.display="block"),$("#id_send").prop("disabled",!1),$(".spinner-border").addClass("invisible"),$(".btn-text").html("Enviar")},error:(e,a,t)=>{console.log(a,t),document.getElementById("id_error").innerHTML="Error de conexión. Revise su conexión de internet",document.getElementById("id_error").style.display="block",$("#id_send").prop("disabled",!1),$(".spinner-border").addClass("invisible"),$(".btn-text").html("Enviar")}})}):(document.getElementById("id_error").innerHTML="Complete los campos requeridos.",document.getElementById("id_error").style.display="block",$("html, body").animate({scrollTop:0},1e3),$("#id_send").prop("disabled",!1),$(".spinner-border").addClass("invisible"),$(".btn-text").html("Enviar"))})});